<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saving App-User Details</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Montserrat">
</head>
<body>
    <div class="homeDiv">
        <div class="home-img"><img src="{{ url_for('static', filename='images/header.png') }}" alt="header"></div>
    <div class="home-links">
        <u id="pagelink">
            <li style="margin-bottom: 25px;"><img src="{{ url_for('static', filename='images/home.png') }}" alt="home" style="width: 35px;height: 30px;">&nbsp;<a href="/home" id="firstlink">Home</a></li>
            <li style="margin-bottom: 24px;"><img src="{{ url_for('static', filename='images/account_details.png') }}" alt="account_details" style="margin-left: -1px;">&nbsp;<a href="/home/account">Account info</a></li>
            <li><img src="{{ url_for('static', filename='images/user_details.png') }}" alt="user_details" style="height: 45px;width: 33px;margin-bottom: -18px;">&nbsp;<a href="#" style="color: #FF12AE;">User details</a></li>
            <li><img src="{{ url_for('static', filename='images/reports.png') }}" alt="reports">&nbsp;<a href="#">Reports</a></li>
            <li><img src="{{ url_for('static', filename='images/logout.png') }}" alt="logout">&nbsp;<a href="#">Logout</a></li>
        </u>
        <div class="homepage userpage">
            <p class="p1">User details</p>
            {%if user %}
            <div class="topuser-div"><p>Personal details</p></div>
            <div class="userdata">
                <label>ID number</label>
                <label>Username</label>
                <label>Firstname</label>
                <label>Lastname</label>
                <label>Phone No</label>
                
                <form action="/userDetails/editData" method="POST" class="editname-field">
                    <input type="number" id="edit-id" name="id_no" value="{{user.id}}" required disabled>
                    <input type="text" id="edit-uname" name="name1" value="{{user.username}}" required disabled>
                    <input type="text" id="edit-fname" name="name2" value="{{user.firstname}}" required disabled>
                    <input type="text" id="edit-lname" name="name3" value="{{user.lastname}}" required disabled>
                    <input type="number" id="edit-phone" name="name4" value="{{user.phone}}" required disabled>
                    <button type="submit" class="buttn" id="savebtn" style="display: none;">SAVE</button>
                </form>
                <button onclick="editName()" class="buttn" id="editbtn">EDIT</button>
            </div> 
            <div>
                <div class="photodiv">
                    <img src="{{ url_for('static', filename='uploads/'+user.profile_pic) }}" alt="profile" width="100%" height="100%">
                </div>
                <form action="/userDetails/editPhoto" method="POST" enctype="multipart/form-data">
                    <label for="profilepic" class="editpic-label">Edit Photo</label>
                    <input type="file" name="pic" accept="image/*" id="profilepic" style="display: none;" onchange="form.submit()" required>
                </form>
            </div>
            <br><br>
            <div>
                <div class="downuser-div"><p>Security settings</p></div>
                <div class="thelabel">
                    <label>Password</label>
                    <label id="pin-label">PIN</label>
                    <form action="#" class="thepaswd">
                        <input type="password" value="********" disabled>
                        <input type="password" value="********" id="pin-theInput" disabled>
                    </form>
                </div>
            </div>
            {%endif%}     
        </div>
    </div>
        <div class="footer">
            <hr>
            <p>Copyright Â© 2021. <span>Beannsofts Limited. All rights reserved.</span><span> <a href="#">Follow this link to know about us</a></span></p>
        </div>
    </div>
    <script>
        function editName(){
            document.getElementById('edit-uname').disabled = false;
            document.getElementById('edit-fname').disabled = false;
            document.getElementById('edit-lname').disabled = false;
            document.getElementById('edit-phone').disabled = false;
            document.getElementById('edit-id').style.background = "#cee6ee";
            document.getElementById('savebtn').style.display = "block";
            document.getElementById('editbtn').style.display = "none";
        }
    </script>
</body>
</html>